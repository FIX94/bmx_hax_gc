// Copyright 2016 FIX94
// This code is licensed to you under the terms of the GNU GPL, version 2;
// see file LICENSE or http://www.gnu.org/licenses/old-licenses/gpl-2.0.txt

	.section .start,"ax"

0:	// we land here thanks to write location set in
	// gci+0x1A6D0 in US and gci+0x1A6CD in PAL, +4 of
	// those locations is the callback we replaced (padread)
	b _start
	// will be garbage after our crash
	nop
_start:
	// Interrupts already disabled

	// Set up a stack frame.
	lis 1,0x8000 ; addi 1,1,0x3000 ; li 0,0 ; stwu 0,-64(1)

	// Go for it!
	b _main
